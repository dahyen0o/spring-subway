# 지하철 노선도

## 1단계: 구간 관리 기능

### 📝 도메인 정의

#### 역 (Station)

- 이름

#### 구간 (Section)

- 길이
- 상행 역
- 하행 역

#### 노선 (line)

- 이름
- 색

### ✅ 기능 정리

#### 지하철 노선에서 구간 등록

- 요청
- [ ] POST ```/lines/{노선 id}/sections``` 로 보낸다.
- [ ] body는 json 형식으로 ```상행 역, 하행 역, 길이``` 를 보낸다.
  - [ ] 각 요소들은 모두 하나의 원자값만 가진다.
  - [ ] 상행 역, 하행 역 id의 타입은 문자열이고, 길이의 타입은 숫자이다.
  - [ ] 길이는 0 초과의 실수이다.
  - [ ] 하행 역의 노선은 위 url의 노선과 같다.
- 응답
- [ ] 성공적으로 구간이 등록되면 Status Code는 201, body는 구간 정보를 보낸다.
- [ ] 올바르지 않은 요청으로 등록 실패시 Status Code 400과 에러 메세지를 보낸다.
- 제약 사항
- [ ] 새로운 구간의 상행 역은 해당 노선에 등록되어있는 하행 종점역이어야 한다.
- [ ] 새로운 구간의 하행 역은 해당 노선에 등록되어있는 역일 수 없다.

#### 지하철 노선에서 구간 삭제

- 요청 
- [ ] DELETE ```/lines/{노선 id}/sections``` 로 보낸다.
- [ ] query parameter로 ```역의 id(stationId)``` 를 요청한다.
  - [ ] 역의 노선 id와 노선 id는 같다.
- 응답
- [ ] 성공적으로 구간이 삭제되면 Status Code는 200을 보낸다.
- [ ] 올바르지 않은 요청으로 삭제 실패시 Status Code 400과 에러 메세지를 보낸다.
- 제약 사항
- [ ] 지하철 노선에 등록된 역(하행 종점역)만 제거할 수 있다.
- [ ] 지하철 노선에 상행 종점역과 하행 종점역만 있는 경우 역을 삭제할 수 없다.
